AttachSpec("spec");
directory := GetCurrentDirectory() cat "/SolvableDB";
ChangeDirectory(directory);

// deletes empty attributes
for d in [2,4,8,16] do
  f := SolvableDBFilenames(d);
  for i in [1..#f] do
    s := SolvableDBAccessEntry(f[i]);
    for attr in GetAttributes(Type(s)) do
      if assigned s``attr then
        if s``attr cmpeq "" then
          if s``attr eq "" then
            delete s``attr;
          end if;
        end if;
      end if;
    end for;
    SolvableDBWriteObject(s);
  end for;
end for;

// looks to see which attributes are assigned
f := SolvableDBFilenames(16);
s := SolvableDBAccessEntry(f[6]);
delete s`SolvableDBNumericalCurveInvariants;
for attr in GetAttributes(Type(s)) do
  if assigned s``attr then
    print attr;
  end if;
end for;
